{"version":3,"file":"static/js/3978.ab6233de.chunk.js","mappings":"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","sources":["pages/CategoryPage.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react'\r\nimport {Link, useParams} from 'react-router-dom'\r\nimport {apiUrl} from '../constants/Urls'\r\n\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\n\r\nimport { EffectCreative, Navigation } from 'swiper/modules';\r\n\r\n// Import conditionally\r\nimport 'swiper/css';\r\nimport 'swiper/css/effect-creative';\r\nimport 'swiper/css/navigation';\r\n\r\nimport { translaste } from '../utils/utils';\r\nimport { useStoreContext } from '../store/store-context';\r\n\r\nconst Card = ({product, style})=>{\r\n  return(\r\n    <Link \r\n      to={`/products/${product.slug}/${product.product_id}`} \r\n       style={{\r\n        width: '100%', \r\n        ...style}} \r\n       \r\n      // className='scale-on-hover'\r\n      >\r\n      <div  \r\n          style={{ \r\n              overflow: 'hidden', \r\n              border: `1px solid rgba(var(--primaryColor-rgb), 0.8)`,\r\n              backgroundColor: 'var(--containerColor)',\r\n          }}>\r\n            <div \r\n                style={{\r\n                    width: '100%', \r\n                    aspectRatio: 1, \r\n                    display: 'flex', \r\n                    alignItems: 'center', \r\n                    justifyContent:'center',\r\n                    backgroundImage: `url(${product.image})`,\r\n                    backgroundSize: 'cover',\r\n                    backgroundPosition: 'center',\r\n                    backgroundRepeat: 'no-repeat',\r\n                }} \r\n            />\r\n            <div className='px-2'>\r\n                <h4 className='cut-text' >{ product.title }</h4>\r\n                {  product.price ? \r\n                    <div className='d-flex justify-content-between'>\r\n                        <h4 style={{color: 'var(--primaryColor)'}}>{ product.price } {translaste('DA')} </h4>\r\n                        { product.original_price && <h4 style={{color: 'var(---greyColor)', textDecoration: 'line-through'}}>{ product.original_price } {translaste('DA')} </h4>}\r\n                    </div>:\r\n                    <h4 style={{color: 'red'}} >{ product.price } {translaste('No price')} </h4> \r\n                }\r\n            </div>\r\n          </div>\r\n      </Link>\r\n  )\r\n}\r\n\r\nfunction createSubArrays(mainArray, n, M) {\r\n    // Helper function to shuffle the array (Fisher-Yates shuffle algorithm)\r\n  function shuffleArray(array) {\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1)); // Random index from 0 to i\r\n      [array[i], array[j]] = [array[j], array[i]];  // Swap elements\r\n    }\r\n    return array;\r\n  }\r\n\r\n  // Shuffle the mainArray\r\n  const shuffledArray = shuffleArray([...mainArray]);\r\n\r\n  // Initialize the result array with n empty subarrays\r\n  const result = Array.from({ length: n }, () => []);\r\n\r\n  // Distribute the elements\r\n  let index = 0; // Index for tracking position in shuffledArray\r\n\r\n  for (let i = 0; i < n; i++) {\r\n    for (let j = 0; j < M; j++) {\r\n      // Push elements into subarray, looping back to the start if needed\r\n      result[i].push(shuffledArray[index % shuffledArray.length]);\r\n      index++;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nconst props = [\r\n  {\r\n    pagination: {\r\n        clickable: true,\r\n    },\r\n    grabCursor: true,\r\n    className: \"mySwiper2\",\r\n    centerInsufficientSlides:  true,\r\n\r\n    effect: 'creative',\r\n    creativeEffect: {\r\n      prev: {\r\n        translate: ['-100%', 0, -500],\r\n      },\r\n      next: {\r\n        translate: ['100%', 0, -500],\r\n      },\r\n    },\r\n    style: {\r\n        marginTop: 24,\r\n        width: '50%',\r\n        overflow: 'unset',\r\n\r\n    },\r\n    modules: [EffectCreative],\r\n    spaceBetween: 0,\r\n  \r\n  },\r\n  {\r\n    spaceBetween: 8,\r\n    pagination: {\r\n        clickable: true,\r\n    },\r\n    grabCursor: true,\r\n    className: \"mySwiper\",\r\n    style: {\r\n        marginTop: 24,\r\n        width:'100%',\r\n        overflow: 'unset'\r\n    },\r\n    centerInsufficientSlides:  true,\r\n    modules: [Navigation],    \r\n    navigation: true\r\n  }\r\n]\r\nconst CategoryPage = () => {\r\n  const [products, setProducts] = useState(null)\r\n  const [title, setTitle] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const {slug} = useParams()\r\n  useEffect(()=>{\r\n      setLoading(true)\r\n      fetch(apiUrl + `/category/category-page?domain=${window.location.host}&slug=${slug}`).then(response=>{\r\n        if (!response.ok){\r\n          setLoading(false)\r\n          return\r\n        }\r\n        response.json().then(data=>{\r\n          setProducts(data.products)\r\n          setTitle(data.title)\r\n          setLoading(false)\r\n        })\r\n      }).catch(error=>{\r\n        console.log(error)\r\n        setLoading(false)\r\n      })\r\n  }, [slug])\r\n\r\n  const sections = useMemo(()=>products && createSubArrays(products, 4, 4 ), [products])\r\n\r\n  const {device, screenWidth} = useStoreContext()\r\n  const isMobile = device==='mobile' \r\n  return (\r\n   products && products.length > 0 && (\r\n    <div \r\n        style={{\r\n          overflowX: 'clip',\r\n        }}\r\n      >\r\n        <h1 style={{textAlign: 'center'}} className='mt-3 color-primary'>{  translaste(title) }</h1>\r\n        <Swiper\r\n          {...props[isMobile ?  0 : 1]}\r\n          slidesPerView={ isMobile ? 1 : screenWidth / 220}\r\n          key={[0, isMobile]}\r\n        >\r\n          {\r\n            sections[0].map(product=>(\r\n              <SwiperSlide\r\n                key={product.product_id}\r\n                style={{width: '100%'}}\r\n              >\r\n                <Card product={product}  />\r\n              </SwiperSlide>\r\n            ))\r\n          }\r\n        </Swiper>\r\n        <div className='d-flex flex-wrap justify-content-center' style={{marginTop: 24}}>\r\n          {\r\n            ( isMobile ? sections[1].slice(0, 2): sections[1]).map(product=>(\r\n              <div key={product.product_id} style={{width: isMobile ? '50%' : 220}} className='d-flex'>\r\n                <Card product={product} style={{padding: 2}} />\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        <Swiper\r\n          {...props[isMobile ?  0 : 1]}\r\n          slidesPerView={ isMobile ? 1 : screenWidth / 220}\r\n          key={[1, isMobile]}\r\n        >\r\n          {\r\n            sections[0].map(product=>(\r\n              <SwiperSlide\r\n                key={product.product_id}\r\n                style={{width: '100%'}}\r\n              >\r\n                <Card product={product} />\r\n              </SwiperSlide>\r\n            ))\r\n          }\r\n        </Swiper>\r\n        <div className='d-flex flex-wrap justify-content-center' style={{marginTop: 24}}>\r\n          {\r\n            ( isMobile ? sections[1].slice(2, 4): sections[3]).map(product=>(\r\n              <div key={product.product_id} style={{width: isMobile ? '50%' : 220}} className='d-flex'>\r\n                <Card product={product} style={{padding: 2}} />\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  )\r\n}\r\n\r\nexport default CategoryPage"],"names":["Card","_ref","product","style","_jsx","Link","to","concat","slug","product_id","width","children","_jsxs","overflow","border","backgroundColor","aspectRatio","display","alignItems","justifyContent","backgroundImage","image","backgroundSize","backgroundPosition","backgroundRepeat","className","title","price","color","translaste","original_price","textDecoration","props","pagination","clickable","grabCursor","centerInsufficientSlides","effect","creativeEffect","prev","translate","next","marginTop","modules","EffectCreative","spaceBetween","Navigation","navigation","CategoryPage","products","setProducts","useState","setTitle","loading","setLoading","useParams","useEffect","fetch","apiUrl","window","location","host","then","response","ok","json","data","catch","error","console","log","sections","useMemo","mainArray","n","M","shuffledArray","array","i","length","j","Math","floor","random","shuffleArray","result","Array","from","index","push","createSubArrays","device","screenWidth","useStoreContext","isMobile","overflowX","textAlign","_createElement","Swiper","slidesPerView","key","map","SwiperSlide","slice","padding"],"sourceRoot":""}