{"version":3,"file":"static/js/7364.51fb2635.chunk.js","mappings":"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","sources":["pages/LandingPage.jsx","webpack://hanotify-store/./src/pages/product-page/suneditor-contents.css?e613"],"sourcesContent":["import React, { lazy, useEffect, useState } from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport {apiUrl, filesUrl} from '../constants/Urls'\r\nimport states from '../json/states.json'\r\nimport BuySection from './product-page/BuySection'\r\nimport BuyButton from '../components/BuyButton'\r\nimport { adjustScrollPosition, translaste } from '../utils/utils'\r\nimport './product-page/suneditor-contents.css'\r\nimport VarinatsSection from './product-page/VarinatsSection'\r\nimport useFBViewPageEvent from '../hooks/useFBViewPageEvent'\r\n\r\n\r\nconst defaultProductData = {\r\n    productId: null,\r\n    title: '',\r\n    slug: '',\r\n    miniDescription: '',\r\n    galleryImages: [],\r\n    selectedCategories: [],\r\n    price: 0,\r\n    originalPrice: 0,\r\n    discount: '',\r\n    shippingCostByState: [] ,\r\n    variants: {},\r\n    pricesAndImagesList: [],\r\n    combinationIndex: 0,\r\n    richText: '',\r\n    relatedProducts: [],\r\n    allProductsRelated: false,\r\n  }\r\n\r\nconst LandingPage = () => {\r\n    const [productData, setProductData] = useState(defaultProductData)\r\n    const [error, setError] = useState(false)\r\n    const {id: productId} = useParams()\r\n\r\n    useEffect(()=>{\r\n        const fetchProduct=async()=>{\r\n          setError(false)\r\n          try{\r\n            let data;\r\n            if (window.productData){\r\n              data = window.productData\r\n            }\r\n            else{\r\n              const response = await fetch(\r\n                filesUrl + `/get-product?product_id=${productId}`,\r\n                {\r\n                  method: 'get'\r\n                }\r\n              )\r\n              if (!response.ok) {\r\n                console.log(`Error: ${response.status} ${response.statusText}`);\r\n                setError(true)\r\n                return;\r\n              }\r\n              data = await response.json()\r\n            } \r\n              \r\n\r\n            let shippingCostByState = data.shippingCostByState\r\n            shippingCostByState = shippingCostByState.length > 0 ? shippingCostByState.map(cost=>{\r\n              const state = states.find(state=>state.id === cost.id)\r\n              return({\r\n                  ...cost,\r\n                  cost: cost.cost,\r\n                  costToHome: cost.costToHome,\r\n                  label: `${state.code} - ${state.name}`,\r\n              })\r\n            }): states.map(state=>({\r\n              cost: 0,\r\n              costToHome: 0,\r\n              label: `${state.code} - ${state.name}`,\r\n              id :state.id\r\n            }))\r\n            setProductData(productData=>({\r\n                ...productData,\r\n                ...data,\r\n                shippingCostByState: shippingCostByState,\r\n            }))\r\n            document.title = data.title || 'Hanotify'\r\n            document.querySelector('#meta-title').setAttribute('content', data.title || 'Hanotify')\r\n\r\n            document.querySelector('#meta-image').setAttribute('content', document.querySelector('#meta-image').getAttribute('content') || (data.galleryImages ? data.galleryImages[0] : ''))\r\n\r\n            document.querySelector('#description').setAttribute('content',  data.miniDescription || document.querySelector('#description').getAttribute('content'))\r\n            document.querySelector('#meta-descrition').setAttribute('content', data.miniDescription  || document.querySelector('#meta-descrition').getAttribute('content'))\r\n          }\r\n          catch(error){\r\n            console.log(error)\r\n          }              \r\n        }\r\n        fetchProduct()\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n      fetch(\r\n          apiUrl + '/product/increment-product-views',\r\n          {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ \r\n              product_id: productId  \r\n            })\r\n          }\r\n        )\r\n    }, [])\r\n\r\n  useFBViewPageEvent()\r\n  const [order, setOrder] = useState(null)\r\n  return (\r\n      <div style={{position:'relative'}}>\r\n        { productData.productId && \r\n          <>\r\n            { productData.richText  && <div className='sun-editor-editable' style={{margin: '0 auto', minHeight: '100vh', maxWidth: '40rem'}} dangerouslySetInnerHTML={{ __html: productData.richText}} />}\r\n            <div className='p-2' id='buy-section' style={{position: 'absolute', zIndex: 2, backgroundColor: 'var(--background-color)', width: '100%', paddingBottom: 'calc(40vh - 186px)'}}>\r\n                <div style={{maxWidth: 600, margin: 'auto'}} className={'p-2' + (productData.pricesAndImagesList.length > 0 ? ' border': '')}>\r\n                  {  productData.pricesAndImagesList.length > 0 && <div className='mb-2'>\r\n                    <VarinatsSection {...{productData, setProductData}} />\r\n                  </div> }\r\n\r\n                  <BuySection productData={productData} setOrder={setOrder} />\r\n                </div>\r\n            </div>\r\n            <div className='d-flex justify-content-center' style={{position: 'fixed', bottom: 0, width: '100%', left: 0, marginBottom: '2vw'}} >\r\n                <BuyButton onClick={()=>adjustScrollPosition(document.querySelector('#buy-section'))} className='gap-2 jiggle' style={{width: '90%', maxWidth: 400}}>\r\n                    <i className=\"fa-solid fa-cart-shopping\" />\r\n                    { translaste('Order now') }\r\n                </BuyButton>\r\n            </div>\r\n          </>\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LandingPage","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["defaultProductData","productId","title","slug","miniDescription","galleryImages","selectedCategories","price","originalPrice","discount","shippingCostByState","variants","pricesAndImagesList","combinationIndex","richText","relatedProducts","allProductsRelated","LandingPage","productData","setProductData","useState","error","setError","id","useParams","useEffect","async","data","window","response","fetch","filesUrl","concat","method","ok","console","log","status","statusText","json","length","map","cost","state","states","find","costToHome","label","code","name","document","querySelector","setAttribute","getAttribute","fetchProduct","apiUrl","headers","body","JSON","stringify","product_id","useFBViewPageEvent","order","setOrder","_jsx","style","position","children","_jsxs","_Fragment","className","margin","minHeight","maxWidth","dangerouslySetInnerHTML","__html","zIndex","backgroundColor","width","paddingBottom","VarinatsSection","BuySection","bottom","left","marginBottom","BuyButton","onClick","adjustScrollPosition","translaste"],"sourceRoot":""}