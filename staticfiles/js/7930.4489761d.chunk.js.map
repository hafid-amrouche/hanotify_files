{"version":3,"file":"static/js/7930.4489761d.chunk.js","mappings":"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","sources":["webpack://hanotify-store/./src/components/BuyButton.module.css?8862","components/BuyButton.jsx","hooks/useGoBackOnePath.jsx","components/ImageSlider.jsx","components/LazyImage.jsx","pages/ProductGallery.jsx","pages/product-page/store/product-context.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"BuyButton_button__Litak\",\"outline\":\"BuyButton_outline__bdUdp\",\"disabled\":\"BuyButton_disabled__okQ++\"};","import React from 'react'\r\nimport classes from './BuyButton.module.css'\r\nconst BuyButton = ({children, className, onClick, disabled, outline, ...props}) => {\r\n  return (\r\n    <div disabled={disabled} className={`${outline ? classes['outline'] : ''} ${classes.button} ${className} ${ disabled ? classes.disabled : ''}`} {...props} onClick={disabled ? undefined : onClick} >{children}</div>\r\n  )\r\n}\r\n\r\nexport default BuyButton","import { useNavigate } from 'react-router-dom';\r\n\r\nconst useGoBackOnePath = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const goBackOnePath = () => {\r\n    const currentPath = window.location.pathname;  // Get the current path\r\n    const newPath = currentPath.split('/').slice(0, -1).join('/');  // Remove the last segment\r\n    navigate(newPath);  // Navigate to the new path\r\n  };\r\n\r\n  return goBackOnePath;\r\n};\r\n\r\nexport default useGoBackOnePath;","import React, { useEffect, memo, useRef, useState, forwardRef } from 'react';\r\nimport './ImageSlider.css'; // Style file for ImageSlider (you can customize this)\r\nimport { useProductContext } from '../pages/product-page/store/product-context';\r\nimport { useStoreContext } from '../store/store-context';\r\nimport useGoBackOnePAth from '../hooks/useGoBackOnePath'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Zoom, Pagination } from 'swiper/modules';\r\nimport 'swiper/css/zoom';\r\nimport \"swiper/css\";\r\nimport 'swiper/css/pagination';\r\nimport LazyImage from './LazyImage';\r\n\r\nfunction centerActiveChild(parent, activeChild) {\r\n  if (activeChild) {\r\n    // Get the active child's position relative to the parent\r\n    const activeChildOffsetLeft = activeChild.offsetLeft;\r\n    const activeChildWidth = activeChild.offsetWidth;\r\n    \r\n    // Get the width of the parent\r\n    const parentWidth = parent.offsetWidth;\r\n    \r\n    // Calculate how much to scroll to center the active child\r\n    const scrollPosition = activeChildOffsetLeft - (parentWidth / 2) + (activeChildWidth / 2);\r\n    \r\n    // Smoothly scroll the parent to the calculated position\r\n    parent.scrollTo({\r\n      left: scrollPosition,\r\n      behavior: 'smooth'\r\n    });\r\n  }\r\n}\r\n\r\n// Call the function whenever you need to center the active child\r\ncenterActiveChild();\r\n\r\n\r\nconst ImageSliderInner= forwardRef(({fullscreen}, swiperRef)=>{\r\n\r\n  const {currentImage, setCurrentImage, productData} = useProductContext()\r\n  const {screenWidth} = useStoreContext()\r\n  \r\n  const {galleryImages} = productData\r\n  const images = galleryImages.map((image, index)=>({\r\n    url: image,\r\n    id: index\r\n  }))\r\n\r\n  const slideToIndex=(newIndex)=>{\r\n    swiperRef.current.swiper.slideTo(newIndex)\r\n  }\r\n  const nextSlide = () => {\r\n    const imageIndex = images.findIndex(obj => obj.id === currentImage.id)\r\n    const newIndex = imageIndex <= images.length -2 ? imageIndex + 1 : imageIndex   \r\n    setCurrentImage(images[newIndex]);\r\n    slideToIndex(newIndex)\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    const imageIndex = images.findIndex(obj => obj.id === currentImage.id)\r\n    const newIndex = imageIndex >= 1 ? imageIndex - 1 : 0\r\n    setCurrentImage(images[newIndex]);\r\n    slideToIndex(newIndex)\r\n  }\r\n\r\n  const goBackOnePath = useGoBackOnePAth()\r\n  const navigate = useNavigate()\r\n  \r\n  const toggleFullScreen = ()=>{\r\n    if (fullscreen) goBackOnePath()\r\n    else navigate('gallery')\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if (fullscreen) {\r\n      document.getElementById('image-slider__container').classList.remove('p-sticky-md')\r\n      document.documentElement.style.overflow ='hidden'\r\n    }\r\n    else {\r\n      document.getElementById('image-slider__container').classList.add('p-sticky-md')\r\n      document.documentElement.style.removeProperty('overflow')\r\n    }\r\n  }, [fullscreen])\r\n\r\n  const { language }= useStoreContext()\r\n  const rtl = language === 'ar' \r\n\r\n  const handleSlideChange = (swiper) => {\r\n    setCurrentImage(images.find(image=>image.id === swiper.activeIndex)) // swiper.activeIndex gives the current slide index\r\n  };\r\n\r\n  \r\n  return (\r\n    <>\r\n      <div style={{height: '100%', width: '100%', position: 'absolute', top: 0, left: 0}}>\r\n        <Swiper\r\n          className=\"mySwiper\"\r\n          onClick={()=>!fullscreen && toggleFullScreen()}\r\n          onSlideChange={handleSlideChange}\r\n          ref={swiperRef}\r\n          initialSlide={currentImage.id}\r\n          modules={[Zoom, Pagination]}\r\n          pagination={{\r\n            clickable: true,\r\n          }}\r\n          style={{ \r\n            height: '100%',\r\n            width: '100%',\r\n            maxWidth: '100%',\r\n            maxHeight: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left:0,\r\n            '--swiper-pagination-color': 'var(--primaryColor)',\r\n          }}\r\n          grabCursor\r\n        >\r\n          {images.map((image, index)=>(\r\n            <SwiperSlide \r\n              key={index}\r\n              className={`${fullscreen ? 'full-screen-image' : ''} flex-shrink-0`}\r\n              >\r\n              <div className=\"swiper-zoom-container\">\r\n                <LazyImage\r\n                  className={` ${screenWidth >= 768 && !fullscreen && 'border' }`}\r\n                  loading=\"lazy\"\r\n                  style={{ \r\n                    display: 'block',\r\n                    height: '100%',\r\n                    width: '100%',\r\n                    objectFit: fullscreen ? 'contain' : 'cover',\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: 'center',\r\n                    flexShrink: 0,\r\n                    position: 'absolute', \r\n                    top: 0,\r\n                    left: 0\r\n                  }}\r\n                  src={image.url}\r\n                />\r\n              </div>\r\n            </SwiperSlide>\r\n          ))}\r\n        \r\n        </Swiper> \r\n      </div>\r\n      <button  style={{top: 'calc( 50% - 15px )'}} className={rtl ? ' next' : 'prev' } onClick={prevSlide}>&#10094;</button>\r\n      <button  style={{top: 'calc( 50% - 15px )'}} className={rtl ? ' prev' : 'next'}  onClick={nextSlide}>&#10095;</button>\r\n      <i className={ (fullscreen ? 'fa-solid fa-compress' : 'fa-solid fa-expand') + ' fullscreen-btn' } onClick={toggleFullScreen}></i>          \r\n    </>\r\n\r\n  );\r\n})\r\n\r\n\r\nconst ImageSlider = memo(({fullscreen=false}) => {\r\n  const { swiperRef } = useProductContext()\r\n  const {screenWidth} = useStoreContext()\r\n  const containerRef = useRef()\r\n  const [dimentions, setDimensions] = useState({\r\n    width: 0,\r\n    height: 0\r\n  }) \r\n  const aspectRatio = fullscreen ? window.innerWidth / window.innerHeight : 1\r\n  const calculateDimensions=()=>{\r\n    const container = containerRef.current;\r\n    const containerWidth = container.offsetWidth;\r\n    const containerHeight = container.offsetHeight - (window.innerWidth >= 768 && !fullscreen ? 4 : 0);\r\n    const containerAspectRatio = containerWidth / containerHeight;\r\n\r\n    if (containerAspectRatio > aspectRatio) {\r\n      // Container is wider than the desired aspect ratio, fit height\r\n      setDimensions({\r\n        width: containerHeight * aspectRatio,  // Adjust width based on height\r\n        height: containerHeight,  // Use full container height\r\n      });\r\n    } else {\r\n      // Container is taller than the desired aspect ratio, fit width\r\n      setDimensions({\r\n        width: containerWidth,  // Use full container width\r\n        height: containerWidth / aspectRatio,  // Adjust height based on width\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    calculateDimensions()\r\n  }, [screenWidth]);\r\n\r\n  const containerHeight = fullscreen ? window.innerHeight : (screenWidth < 768 ? Math.min(document.documentElement.clientWidth, window.innerHeight) : window.innerHeight)\r\n  \r\n  centerActiveChild(document.querySelector('.swiper-pagination'), document.querySelector('.swiper-pagination-bullet.swiper-pagination-bullet-active'))\r\n  return (\r\n    <div style={{height: '100%', width: '100%',  position: fullscreen ? 'absolute' : undefined, top: 0, left: 0, zIndex: fullscreen && 2 }}>\r\n      <div ref={containerRef} style={{position: 'relative', background: fullscreen ? '#000000' : undefined, display: 'flex', alignItems: \"center\", justifyContent: 'center', height: containerHeight, width: '100%'}}>\r\n          <div style={{...dimentions, aspectRatio, position:'absolute', top: window.innerWidth >= 768 && !fullscreen ? 4 : 0}}>\r\n            <style>{`\r\n              .swiper{\r\n                display: flex !important;\r\n                justify-content: center\r\n              }\r\n              .swiper-pagination{\r\n                width: unset !important;\r\n                overflow-x: hidden;\r\n                flex-wrap: nowrap;\r\n                display: flex;\r\n                left: unset !important;\r\n                max-width: 90%\r\n              }\r\n              .swiper-pagination-bullet{\r\n                flex-shrink: 0\r\n              }\r\n            `}</style>\r\n            <ImageSliderInner fullscreen={fullscreen} ref={swiperRef} />\r\n          </div>\r\n      </div> \r\n    </div>\r\n  )})\r\n  \r\n\r\nexport default ImageSlider;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useRef, useEffect } from 'react';\r\n\r\nconst LazyImage = ({ src, alt, placeholder, className, ...props }) => {\r\n  const [isInView, setIsInView] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const imageRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsInView(true);\r\n            observer.disconnect();\r\n          }\r\n        });\r\n      },\r\n      {\r\n        root: null,\r\n        rootMargin: '0px',\r\n        threshold: 0.1\r\n      }\r\n    );\r\n\r\n    if (imageRef.current) {\r\n      observer.observe(imageRef.current);\r\n    }\r\n\r\n    if(isInView){\r\n      observer.unobserve(imageRef.current);\r\n    }\r\n    return () => {\r\n      if (observer && imageRef.current) {\r\n        observer.unobserve(imageRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n      <img\r\n        src={isInView ? src : placeholder}\r\n        alt={alt}\r\n        onLoad={() => setLoaded(true)}\r\n        className={`${className} ${loaded ? 'loaded' : 'loading'}`}\r\n        {...props}\r\n        ref={imageRef}\r\n      />\r\n  );\r\n};\r\n\r\nexport default LazyImage;\r\n","import React from 'react'\r\nimport ImageSlider from '../components/ImageSlider'\r\n\r\nconst ProductPageInner=()=>{\r\n  return(\r\n    <div style={{ top: 64, borderRadius: 'var(--border-radius-3)', overflow: 'hidden'}} className='p-sticky-md border' id='image-slider__container'>\r\n      <ImageSlider fullscreen/>\r\n    </div> \r\n  )\r\n}\r\n\r\nconst ProductPage = () => {\r\n  return (\r\n      <ProductPageInner/>\r\n  )\r\n}\r\n\r\nexport default ProductPage","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport { createContext } from \"react\";\r\nimport { filesUrl } from '../../../constants/Urls';\r\nimport {Outlet, useNavigate, useParams} from 'react-router-dom'\r\nimport states from '../../../json/states.json'\r\nimport { translaste } from '../../../utils/utils';\r\nimport BuyButton from '../../../components/BuyButton';\r\nimport { useStoreContext } from '../../../store/store-context';\r\n\r\nconst defaultProductData = {\r\n    productId: null,\r\n    title: '',\r\n    slug: '',\r\n    miniDescription: '',\r\n    galleryImages: [],\r\n    selectedCategories: [],\r\n    price: 0,\r\n    originalPrice: 0,\r\n    discount: '',\r\n    shippingCostByState: [] ,\r\n    variants: {},\r\n    pricesAndImagesList: [],\r\n    combinationIndex: 0,\r\n    richText: '',\r\n    relatedProducts: [],\r\n    allProductsRelated: false,\r\n  }\r\nconst ProductContext = createContext({\r\n    productData: defaultProductData,\r\n    setProductData: ()=>{},\r\n    currentImage: null,\r\n    setCurrentImage: ()=>{},\r\n})\r\n\r\n\r\nconst ProductContextProviderInner=()=>{\r\n    const [productData, setProductData] = useState(defaultProductData)\r\n    const [error, setError] = useState(false)\r\n    const [currentImage, setCurrentImage] = useState(null)\r\n    const {id: productId} = useParams()\r\n\r\n    const {language} = useStoreContext()\r\n    const lang_prefix = language === 'ar' ? '_ar': '' \r\n\r\n    const {storeData} = useStoreContext()\r\n    useEffect(()=>{\r\n      const fetchProduct=async()=>{\r\n        setError(false)\r\n        try{\r\n          let data;\r\n          if (window.productData){\r\n            data = window.productData\r\n          }\r\n          else{\r\n            const response = await fetch(\r\n              filesUrl + `/get-product?product_id=${productId}`,\r\n              {\r\n                method: 'get'\r\n              }\r\n            )\r\n            if (!response.ok) {\r\n              console.log(`Error: ${response.status} ${response.statusText}`);\r\n              setError(true)\r\n              return;\r\n            }\r\n          \r\n            data = await response.json()\r\n          }\r\n\r\n\r\n          let shippingCostByState = data.useDefaultShipping ? storeData.defaultShippigCosts : data.shippingCostByState\r\n          shippingCostByState = shippingCostByState.map(cost=>{\r\n            const state = states.find(state=>state.id === cost.id)\r\n            return({\r\n                ...cost,\r\n                cost: cost.cost,\r\n                costToHome: cost.costToHome,\r\n                label: `${state.code} - ${state['name' + lang_prefix]}`,\r\n            })\r\n          })\r\n          \r\n          data.galleryImages = [...(data.galleryImages || []), ...[data.pricesAndImagesList?.map(row=>row.image).filter(img=>!!img) || []]]\r\n          setProductData(productData=>({\r\n              ...productData,\r\n              ...data,\r\n              shippingCostByState: shippingCostByState,\r\n          }))\r\n          if(data.galleryImages?.length > 0) setCurrentImage({\r\n            id:0,\r\n            url:data.galleryImages[0]\r\n          })\r\n          // SEO\r\n          document.title = data.title || 'Hanotify'\r\n          document.querySelector('#meta-title').setAttribute('content', data.title || 'Hanotify')\r\n\r\n          document.querySelector('#meta-image').setAttribute('content', document.querySelector('#meta-image').getAttribute('content') || (data.galleryImages ? data.galleryImages[0] : ''))\r\n\r\n          document.querySelector('#description').setAttribute('content',  data.miniDescription || document.querySelector('#description').getAttribute('content'))\r\n          document.querySelector('#meta-descrition').setAttribute('content', data.miniDescription  || document.querySelector('#meta-descrition').getAttribute('content'))\r\n        }\r\n        catch(error){\r\n          console.log(error)\r\n        }              \r\n      }\r\n      fetchProduct()\r\n      return ()=>{window.productData = undefined}\r\n    }, [])\r\n    \r\n    \r\n    useEffect(() => {\r\n      // Dynamically import CSS based on the theme\r\n      const loadRichTextCss = async () => {\r\n        if (productData?.richText) {\r\n          await import('../../../css/suneditor-contents.css');\r\n        }\r\n      };\r\n  \r\n      loadRichTextCss();\r\n    }, [productData]);\r\n\r\n    const setCurrentImageWithImagesCount=(func)=>{\r\n      let newState;\r\n      if (typeof func === '' ) {\r\n        newState = func(productData.galleryImages.length)\r\n      }\r\n      else {\r\n        newState = func\r\n      }\r\n      setCurrentImage(func)\r\n    }\r\n\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const swiperRef = useRef()\r\n    \r\n    const defaultValue = {\r\n      productData,\r\n      setProductData,\r\n      currentImage,\r\n      setCurrentImage: setCurrentImageWithImagesCount,\r\n      swiperRef\r\n    }\r\n\r\n    useEffect(()=>{\r\n      if (productData.combinationIndex >= 0){\r\n        const image =  productData.pricesAndImagesList[productData.combinationIndex]?.image\r\n        if (image) {\r\n          const imageIndex = productData.galleryImages.indexOf(image)\r\n          if (imageIndex >= 0)  swiperRef.current?.swiper.slideTo(imageIndex)\r\n          swiperRef.current?.swiper.slideTo(imageIndex)\r\n        }\r\n      }\r\n    }, [productData.combinationIndex])\r\n    return (\r\n      <ProductContext.Provider value={defaultValue}>\r\n          { productData.productId && <Outlet/>}\r\n          { error && <div className='flex-1 d-flex flex-column gap-2 align-items-center justify-content-center' style={{minHeight: 500, width: '100%'}} >\r\n            <h2 className='color-red'>{ translaste('Wrong link') }</h2>\r\n            <BuyButton outline className='d-flex gap-3' onClick={()=>navigate('/')}>\r\n              <i className='fa-solid fa-chevron-left'></i>\r\n              {translaste('Go back to store')}\r\n            </BuyButton>\r\n          </div> }\r\n      </ProductContext.Provider>\r\n    )\r\n}\r\n\r\nconst ProductContextProvider=()=>{\r\n  const {id: productId} = useParams()\r\n  return <ProductContextProviderInner key={productId} />\r\n}\r\n\r\nexport default ProductContextProvider\r\nexport const useProductContext =()=> useContext(ProductContext)"],"names":["_ref","children","className","onClick","disabled","outline","props","_jsx","concat","classes","undefined","useGoBackOnePath","navigate","useNavigate","goBackOnePath","newPath","window","location","pathname","split","slice","join","centerActiveChild","parent","activeChild","activeChildOffsetLeft","offsetLeft","activeChildWidth","offsetWidth","scrollPosition","scrollTo","left","behavior","ImageSliderInner","forwardRef","swiperRef","fullscreen","currentImage","setCurrentImage","productData","useProductContext","screenWidth","useStoreContext","galleryImages","images","map","image","index","url","id","slideToIndex","newIndex","current","swiper","slideTo","useGoBackOnePAth","toggleFullScreen","useEffect","document","getElementById","classList","remove","documentElement","style","overflow","add","removeProperty","language","rtl","_jsxs","_Fragment","height","width","position","top","Swiper","onSlideChange","find","activeIndex","ref","initialSlide","modules","Zoom","Pagination","pagination","clickable","maxWidth","maxHeight","grabCursor","SwiperSlide","LazyImage","loading","display","objectFit","backgroundRepeat","backgroundPosition","flexShrink","src","prevSlide","imageIndex","findIndex","obj","nextSlide","length","memo","_ref2","containerRef","useRef","dimentions","setDimensions","useState","aspectRatio","innerWidth","innerHeight","calculateDimensions","container","containerWidth","containerHeight","offsetHeight","Math","min","clientWidth","querySelector","zIndex","background","alignItems","justifyContent","alt","placeholder","isInView","setIsInView","loaded","setLoaded","imageRef","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","disconnect","root","rootMargin","threshold","observe","unobserve","onLoad","ProductPageInner","borderRadius","ImageSlider","ProductPage","defaultProductData","productId","title","slug","miniDescription","selectedCategories","price","originalPrice","discount","shippingCostByState","variants","pricesAndImagesList","combinationIndex","richText","relatedProducts","allProductsRelated","ProductContext","createContext","setProductData","ProductContextProviderInner","error","setError","useParams","lang_prefix","storeData","async","_data$pricesAndImages","_data$galleryImages","data","response","fetch","filesUrl","method","ok","console","log","status","statusText","json","useDefaultShipping","defaultShippigCosts","cost","state","states","costToHome","label","code","row","filter","img","setAttribute","getAttribute","fetchProduct","loadRichTextCss","defaultValue","func","newState","_productData$pricesAn","_swiperRef$current","_swiperRef$current2","indexOf","Provider","value","Outlet","minHeight","translaste","BuyButton","ProductContextProvider","useContext"],"sourceRoot":""}