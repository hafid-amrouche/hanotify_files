"use strict";(self.webpackChunkhanotify_store=self.webpackChunkhanotify_store||[]).push([[5935],{2265:(e,r,t)=>{t.d(r,{A:()=>u});var s=t(5043),o=t(8130),c=t(5243),i=t(6367),n=t(3216);const l=()=>{const e=(0,n.Zp)();return()=>{const r=window.location.pathname.split("/").slice(0,-1).join("/");e(r)}};var a=t(579);const d=e=>{let{onSwipeLeft:r,onSwipeRight:t,children:o,...c}=e;const[i,n]=(0,s.useState)(null),[l,d]=(0,s.useState)(null);return(0,a.jsx)("div",{onTouchStart:e=>{n(e.targetTouches[0].clientX),d(null)},onTouchMove:e=>{d(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!i||!l)return;const e=i-l;Math.abs(e)>50&&(e>0?r():t())},...c,children:o})},u=(0,s.memo)((e=>{let{fullscreen:r=!1}=e;const{currentImage:t,setCurrentImage:u,productData:m}=(0,o.useProductContext)(),{galleryImages:h}=m,x=h.map(((e,r)=>({url:e,id:r}))),p=()=>{const e=x.findIndex((e=>e.id===t.id)),r=e<=x.length-2?e+1:e;u(x[r])},f=()=>{const e=x.findIndex((e=>e.id===t.id));u(x[e>=1?e-1:0])},v=l(),g=(0,n.Zp)();(0,s.useEffect)((()=>{r?(document.getElementById("image-slider__container").classList.remove("p-sticky-md"),document.documentElement.style.overflow="hidden"):(document.getElementById("image-slider__container").classList.add("p-sticky-md"),document.documentElement.style.removeProperty("overflow"))}),[r]);const{language:j}=(0,c.o)(),y="ar"===j,w=(0,s.useRef)(null),b=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=w.current,r=b.current,s=document.getElementById("small-image-".concat(t.id));if(s&&e){const o=e.offsetWidth,c=s.offsetWidth,i=s.offsetLeft-o/2+c/2;e.scroll({left:i,behavior:"smooth"});const n=r.offsetWidth*t.id;r.scroll({left:-n,behavior:"smooth"})}}),[t]);const N=()=>{const e=b.current,r=e.offsetWidth*t.id;e.scroll({left:-r})};return(0,s.useEffect)((()=>(N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)})),[]),(0,a.jsxs)("div",{id:"image-slider",className:"image-slider ".concat(r?"fullscreen":""),children:[(0,a.jsxs)(d,{className:"slides",onSwipeLeft:f,onSwipeRight:p,children:[(0,a.jsx)("div",{className:"slide cursor-pointer d-flex flex-nowrap",onClick:()=>!r&&g("gallery"),ref:b,style:{overflow:"hidden"},children:x.map(((e,t)=>(0,a.jsx)("div",{className:"".concat(r?"full-screen-image":""," flex-shrink-0"),style:{backgroundImage:"url(".concat(e.url,")"),height:"100%",width:"100%",backgroundSize:r?void 0:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",flexShrink:0}},t)))}),(0,a.jsx)("button",{className:y?" next":"prev",onClick:f,children:"\u276e"}),(0,a.jsx)("button",{className:y?" prev":"next",onClick:p,children:"\u276f"}),(0,a.jsx)("i",{className:(r?"fa-solid fa-compress":"fa-solid fa-expand")+" fullscreen-btn",onClick:()=>{r?v():g("gallery")}})]}),(0,a.jsx)("div",{className:"dots d-flex flex-nowrap overflow-x-auto",ref:w,children:x.map((e=>(0,a.jsx)("div",{className:"".concat(e.id===t.id?"active":""),style:{borderRadius:"var(--border-radius-1)"},id:"small-image-".concat(e.id),children:(0,a.jsx)(i.A,{children:(0,a.jsx)("span",{className:"dot",onClick:()=>{return r=e.id,void u(x.find((e=>e.id===r)));var r},style:{backgroundImage:"url(".concat(e.url,")")}})})},e.id)))})]})}))},6367:(e,r,t)=>{t.d(r,{A:()=>c});var s=t(5043),o=t(579);const c=e=>{let{children:r,...t}=e;const[c,i]=(0,s.useState)(!1),n=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=()=>{if(n.current){n.current.getBoundingClientRect().bottom<window.innerHeight+20&&i(!0)}};return window.addEventListener("scroll",e),window.addEventListener("resize",e),e(),c&&(window.removeEventListener("scroll",e),window.removeEventListener("resize",e)),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}),[c]),(0,o.jsx)("div",{ref:n,...t,children:c?r:null})}},4810:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var s=t(5043),o=t(2265),c=t(5543),i=t(2298),n=t(8130),l=t(149),a=t(579);const d=(0,s.memo)((()=>{const{productData:e}=(0,n.useProductContext)();return(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{style:{lineHeight:1.4},children:[e.title,e.discount&&(0,a.jsx)("span",{style:{backgroundColor:"var(--primary-color)",color:"var(--background-color)",padding:"0 6px",margin:"0 8px",fontSize:14,whiteSpace:"nowrap",borderRadius:"var(--border-radius-2)"},children:e.discount})]}),e.miniDescription&&(0,a.jsx)("p",{style:{lineHeight:1.4,marginTop:8},children:e.miniDescription}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[e.price?(0,a.jsxs)("h2",{className:"number",style:{color:"var(--primary-color)"},children:[e.price," ",(0,l.cv)("DA")]}):"",e.originalPrice?(0,a.jsxs)("h3",{className:"old-price",children:[e.originalPrice," ",(0,l.cv)("DA")]}):"",!e.price&&!e.originalPrice&&(0,a.jsx)("h3",{style:{color:"red"},children:(0,l.cv)("No price available !")})]})]})}));var u=t(5243),m=t(5475),h=t(3550);const x=e=>{let{product:r}=e;const{storeData:t}=(0,u.o)();return(0,a.jsxs)(m.N_,{style:{border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",borderRadius:"var(--border-radius-2)"},className:"hover-scale",to:"/redirect?redirect=/products/".concat(r.slug,"/").concat(r.id),children:[(0,a.jsx)(h.A,{src:r.image||t.logo,style:{width:150,height:151,borderBottom:"1px solid var(--border-color)",objectFit:"cover"}}),(0,a.jsxs)("div",{className:"px-2",children:[(0,a.jsx)("h4",{className:"cut-text",children:r.title}),(0,a.jsxs)("div",{className:"d-flex gap-2",children:[(0,a.jsxs)("h5",{className:"color-primary",children:[r.price||0," ",(0,l.cv)("DA")]}),r.originalPrice&&(0,a.jsxs)("h5",{className:"old-price",children:[r.originalPrice," ",(0,l.cv)("DA")]})]})]})]})};var p=t(1634),f=t(4113);const v=()=>{const[e,r]=(0,s.useState)(null),{productData:t}=(0,n.useProductContext)(),[o,c]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{const e=await fetch(p.y+"/product/get-related-products?product_id="+t.productId,{});if(!e.ok)return console.log("Error: ".concat(e.status," ").concat(e.statusText)),void c(!1);r(await e.json()),c(!1)}catch(e){console.log(e),c(!1)}})()}),[]),(0,a.jsxs)("div",{className:"d-flex flex-wrap gap-2 p-2 justify-content-center col-12",children:[!o&&e&&e.map((e=>(0,a.jsx)(x,{product:e},e.index))),o&&(0,a.jsx)(f.A,{diam:160,color:"var(--primary-color)"})]})};var g=t(6367);const j=()=>{const{productData:e,setProductData:r}=(0,n.useProductContext)();return(0,a.jsx)(c.A,{productData:e,setProductData:r})},y=()=>{const{productData:e}=(0,n.useProductContext)();return(0,a.jsxs)("div",{className:"d-flex ",children:[(0,a.jsxs)("div",{className:"col-12 col-md-6 p-1",children:[(0,a.jsx)(a.Fragment,{children:e.galleryImages.length>0&&(0,a.jsx)("div",{style:{top:64,borderRadius:"var(--border-radius-2)",overflow:"hidden"},className:"p-sticky-md border",id:"image-slider__container",children:(0,a.jsx)(o.A,{})})}),(0,a.jsx)(a.Fragment,{children:0===e.galleryImages.length&&(0,a.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{border:"1px solid var(--border-color)",aspectRatio:1,maxWidth:"100%",maxHeight:"calc(100vh - 80px)",margin:"auto",borderRadius:"var(--border-radius-2)"},children:(0,a.jsx)("h3",{style:{color:"grey"},children:(0,l.cv)("No image was provider")})})})]}),(0,a.jsxs)("div",{className:"col-12 col-md-6 px-2 px-lg-4 d-flex flex-column gap-1 p-1 mt-1",children:[(0,a.jsx)(d,{}),e.pricesAndImagesList.length>0&&(0,a.jsx)(j,{}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(i.A,{productData:e})}),e.richText&&(0,a.jsx)(g.A,{className:"p-1 my-4 sun-editor-editable",dangerouslySetInnerHTML:{__html:e.richText}})]}),(0,a.jsxs)(g.A,{className:"flex-1",children:[(0,a.jsx)("hr",{className:"my-3 border"}),(0,a.jsx)(v,{})]})]})}}}]);
//# sourceMappingURL=5935.fdb27dfd.chunk.js.map