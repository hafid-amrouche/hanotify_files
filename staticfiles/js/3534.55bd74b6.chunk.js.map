{"version":3,"file":"static/js/3534.55bd74b6.chunk.js","mappings":"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","sources":["pages/LandingPage.jsx","webpack://hanotify-store/./src/pages/product-page/suneditor-contents.css?e613"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {useLocation, useParams} from 'react-router-dom'\r\nimport {filesUrl} from '../constants/Urls'\r\nimport states from '../json/states.json'\r\nimport BuySection from './product-page/BuySection'\r\nimport BuyButton from '../components/BuyButton'\r\nimport { adjustScrollPosition, translaste } from '../utils/utils'\r\nimport './product-page/suneditor-contents.css'\r\nimport VarinatsSection from './product-page/VarinatsSection'\r\n\r\nconst defaultProductData = {\r\n    productId: null,\r\n    title: '',\r\n    slug: '',\r\n    miniDescription: '',\r\n    galleryImages: [],\r\n    selectedCategories: [],\r\n    price: 0,\r\n    originalPrice: 0,\r\n    discount: '',\r\n    shippingCostByState: [] ,\r\n    variants: {},\r\n    variantsCombinations: [],\r\n    pricesAndImagesList: [],\r\n    combinationIndex: 0,\r\n    richText: '',\r\n    relatedProducts: [],\r\n    allProductsRelated: false,\r\n  }\r\n\r\nconst LandingPage = () => {\r\n    const location = useLocation()\r\n  \r\n    useEffect(()=>{\r\n        document.querySelector('#meta-url').setAttribute('content', window.location.pathname)\r\n    }, [location.path])\r\n    \r\n    const [productData, setProductData] = useState(defaultProductData)\r\n    const [error, setError] = useState(false)\r\n    const {id: productId} = useParams()\r\n    useEffect(()=>{\r\n        const fetchProduct=async()=>{\r\n          setError(false)\r\n          try{\r\n            const response = await fetch(\r\n              filesUrl + `/get-product?product_id=${productId}`,\r\n              {\r\n                method: 'get'\r\n              }\r\n            )\r\n            if (!response.ok) {\r\n              console.log(`Error: ${response.status} ${response.statusText}`);\r\n              setError(true)\r\n              return;\r\n            }\r\n            \r\n            const data = await response.json()\r\n            let shippingCostByState = data.shippingCostByState\r\n            shippingCostByState = shippingCostByState.length > 0 ? shippingCostByState.map(cost=>{\r\n              const state = states.find(state=>state.id === cost.id)\r\n              return({\r\n                  ...cost,\r\n                  cost: cost.cost,\r\n                  costToHome: cost.costToHome,\r\n                  label: `${state.code} - ${state.name}`,\r\n              })\r\n            }): states.map(state=>({\r\n              cost: 0,\r\n              costToHome: 0,\r\n              label: `${state.code} - ${state.name}`,\r\n              id :state.id\r\n            }))\r\n            setProductData(productData=>({\r\n                ...productData,\r\n                ...data,\r\n                shippingCostByState: shippingCostByState,\r\n            }))\r\n            document.title = data.title || 'Hanotify'\r\n            document.querySelector('#meta-title').setAttribute('content', data.title || 'Hanotify')\r\n\r\n            document.querySelector('#meta-image').setAttribute('content', document.querySelector('#meta-image').getAttribute('content') || data.galleryImages[0])\r\n\r\n            document.querySelector('#description').setAttribute('content',  data.miniDescription || document.querySelector('#description').getAttribute('content'))\r\n            document.querySelector('#meta-descrition').setAttribute('content', data.miniDescription  || document.querySelector('#meta-descrition').getAttribute('content'))\r\n          }\r\n          catch(error){\r\n            console.log(error)\r\n          }              \r\n        }\r\n        fetchProduct()\r\n    }, [])\r\n    console.log(productData.pricesAndImagesList)\r\n  return (\r\n    <div style={{position:'relative'}}>\r\n        { productData.productId && \r\n          <>\r\n            { productData.richText  && <div className='sun-editor-editable' style={{margin: '0 auto', minHeight: '100vh', maxWidth: '40rem'}} dangerouslySetInnerHTML={{ __html: productData.richText}} />}\r\n            <div className='p-2' id='buy-section' style={{position: 'absolute', zIndex: 2, backgroundColor: 'var(--background-color)', width: '100%', paddingBottom: 'calc(40vh - 186px)'}}>\r\n                <div style={{maxWidth: 600, margin: 'auto'}} className={'p-2' + (productData.pricesAndImagesList.length > 0 ? ' border': '')}>\r\n                  {  productData.pricesAndImagesList.length > 0 && <div className='mb-2'>\r\n                    <VarinatsSection {...{productData, setProductData}} />\r\n                  </div> }\r\n\r\n                  <BuySection productData={productData} />\r\n                </div>\r\n            </div>\r\n            <div className='d-flex justify-content-center' style={{position: 'fixed', bottom: 0, width: '100%', left: 0, marginBottom: '2vw'}} >\r\n                <BuyButton onClick={()=>adjustScrollPosition(document.querySelector('#buy-section'))} className='gap-2 jiggle' style={{width: '90%', maxWidth: 400}}>\r\n                    <i className=\"fa-solid fa-cart-shopping\" />\r\n                    { translaste('Order now') }\r\n                </BuyButton>\r\n            </div>\r\n          </>\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LandingPage","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["defaultProductData","productId","title","slug","miniDescription","galleryImages","selectedCategories","price","originalPrice","discount","shippingCostByState","variants","variantsCombinations","pricesAndImagesList","combinationIndex","richText","relatedProducts","allProductsRelated","LandingPage","location","useLocation","useEffect","document","querySelector","setAttribute","window","pathname","path","productData","setProductData","useState","error","setError","id","useParams","async","response","fetch","filesUrl","concat","method","ok","console","log","status","statusText","data","json","length","map","cost","state","states","find","costToHome","label","code","name","getAttribute","fetchProduct","_jsx","style","position","children","_jsxs","_Fragment","className","margin","minHeight","maxWidth","dangerouslySetInnerHTML","__html","zIndex","backgroundColor","width","paddingBottom","VarinatsSection","BuySection","bottom","left","marginBottom","BuyButton","onClick","adjustScrollPosition","translaste"],"sourceRoot":""}